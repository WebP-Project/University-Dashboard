<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Intra-University Events Decision Dashboard</title>
    <link rel="stylesheet" href="css/admin-style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <nav class="sidebar">
            <div class="brand">
                <h2>UniEvent</h2>
                <p>Decision Support System</p>
                <button onclick="toggleTheme()" class="toggle-btn">
                    <i class="fas fa-adjust"></i> Switch Theme
                </button>
            </div>

            <ul>
                <li onclick="showSection('scheduling', this)" class="active-nav"><i class="fas fa-calendar-check"></i> Event Scheduling</li>
                <li onclick="showSection('budget', this)"><i class="fas fa-wallet"></i> Budget Allocation</li>
                <li onclick="showSection('venues', this)"><i class="fas fa-building"></i> Venue Utilization</li>
                <li onclick="showSection('participation', this)"><i class="fas fa-users"></i> Participation Analysis</li>
                <li onclick="showSection('performance', this)"><i class="fas fa-chart-line"></i> Performance Evaluation</li>
                <li onclick="showSection('planning', this)"><i class="fas fa-lightbulb"></i> Future Event Planning</li>
            </ul>
        </nav>

        <main class="main-content">
            <section id="scheduling" class="section">
                <header class="section-header">
                    <h1>Event Scheduling and Clash Avoidance</h1>
                    <p>Check availability before booking and avoid venue-time conflicts.</p>
                </header>

                <div class="kpi-grid">
                    <div class="card kpi">
                        <h3>Total Events</h3>
                        <p id="totalEventsDisplay">0</p>
                    </div>
                    <div class="card kpi">
                        <h3>Today Bookings</h3>
                        <p id="todayBookings">0</p>
                    </div>
                    <div class="card kpi">
                        <h3>Detected Clashes</h3>
                        <p id="clashCount">0</p>
                    </div>
                </div>

                <div class="scheduling-layout">
                    <div class="card form-card">
                        <h3>Schedule New Event</h3>
                        <form id="eventForm">
                            <div class="form-group">
                                <label for="eventName">Event Name</label>
                                <input type="text" id="eventName" required placeholder="e.g. Annual Debate">
                            </div>
                            <div class="form-group">
                                <label for="eventDate">Date</label>
                                <input type="date" id="eventDate" required>
                            </div>
                            <div class="form-group">
                                <label for="eventTime">Time Slot</label>
                                <select id="eventTime">
                                    <option value="Morning">Morning (9AM - 1PM)</option>
                                    <option value="Afternoon">Afternoon (2PM - 6PM)</option>
                                    <option value="Evening">Evening (7PM - 10PM)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="eventVenue">Venue</label>
                                <select id="eventVenue">
                                    <option value="Grand Auditorium">Grand Auditorium</option>
                                    <option value="Sports Complex">Sports Complex</option>
                                    <option value="Conference Hall A">Conference Hall A</option>
                                </select>
                            </div>
                            <button type="submit" class="btn-primary">Check Availability and Book</button>
                        </form>

                        <div id="clashAlert" class="alert error hidden">
                            <strong>Clash Detected!</strong> This venue is already booked for the selected slot.
                        </div>
                        <div id="successAlert" class="alert success hidden">
                            <strong>Success!</strong> Event scheduled successfully.
                        </div>
                    </div>

                    <div class="card table-card">
                        <h3>Scheduled Events Database</h3>
                        <table class="styled-table">
                            <thead>
                                <tr>
                                    <th>Event Name</th>
                                    <th>Date / Time</th>
                                    <th>Venue</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="eventsTableBody"></tbody>
                        </table>
                    </div>
                </div>
            </section>

            <section id="budget" class="section hidden">
                <header class="section-header">
                    <h1>Budget Allocation</h1>
                    <p>Track allocated budgets, current spend, and variance by category.</p>
                </header>

                <div id="budgetCards" class="insight-grid"></div>

                <div class="charts-grid">
                    <div class="card chart-container">
                        <h3>Budget Allocation Breakdown</h3>
                        <canvas id="budgetChart"></canvas>
                    </div>
                    <div class="card chart-container">
                        <h3>Budget Burn Rate</h3>
                        <canvas id="burnChart"></canvas>
                    </div>
                </div>
            </section>

            <section id="venues" class="section hidden">
                <header class="section-header">
                    <h1>Venue Utilization</h1>
                    <p>Capacity-aware occupancy matrix for each venue and time slot.</p>
                </header>

                <div class="card">
                    <div class="filter-row">
                        <button class="chip active-chip" onclick="filterVenue('all', this)">All</button>
                        <button class="chip" onclick="filterVenue('available', this)">Available</button>
                        <button class="chip" onclick="filterVenue('high', this)">High Load</button>
                    </div>
                    <div id="venueMatrix" class="venue-matrix"></div>
                </div>
            </section>

            <section id="participation" class="section hidden">
                <header class="section-header">
                    <h1>Student Participation Analysis</h1>
                    <p>Attendance trends, registrations, and top-performing events.</p>
                </header>

                <div class="card">
                    <div class="filter-row">
                        <label for="participationRange">Range</label>
                        <select id="participationRange" onchange="renderParticipation()">
                            <option value="all">All Events</option>
                            <option value="5">Latest 5</option>
                            <option value="3">Latest 3</option>
                        </select>
                    </div>
                </div>

                <div class="charts-grid">
                    <div class="card chart-container">
                        <h3>Registrations vs Attendance</h3>
                        <canvas id="participationChart"></canvas>
                    </div>
                    <div class="card">
                        <h3>Top Events Leaderboard</h3>
                        <ul id="topEventsList" class="leaderboard"></ul>
                    </div>
                </div>
            </section>

            <section id="performance" class="section hidden">
                <header class="section-header">
                    <h1>Performance and Engagement Evaluation</h1>
                    <p>Event-level health scoring using turnout and utilization signals.</p>
                </header>

                <div id="performanceKpis" class="kpi-grid"></div>

                <div class="card">
                    <h3>Underperforming Events</h3>
                    <table class="styled-table">
                        <thead>
                            <tr>
                                <th>Event</th>
                                <th>Engagement Score</th>
                                <th>Risk</th>
                            </tr>
                        </thead>
                        <tbody id="riskTableBody"></tbody>
                    </table>
                </div>
            </section>

            <section id="planning" class="section hidden">
                <header class="section-header">
                    <h1>Future Event Planning</h1>
                    <p>Scenario-based recommendations for upcoming events.</p>
                </header>

                <div id="planningGrid" class="insight-grid"></div>
            </section>
        </main>
    </div>

    <script src="js/admin-logic.js"></script>
</body>
</html>
